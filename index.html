<script>
    let music = document.getElementById("bgMusic");

    function toggleMusic() {
        if (music.paused) {
            music.play();
        } else {
            music.pause();
        }
    }

    document.getElementById("openBtn").addEventListener("click", function() {
        this.style.display = "none"; 

        music.volume = 0.8; 
        music.play();

        let valentineText = document.getElementById("valentineText");
        valentineText.classList.remove("hidden");

        setTimeout(() => {
            valentineText.classList.add("hidden");

            let envelope = document.getElementById("envelope");
            envelope.classList.remove("hidden");
            envelope.classList.add("open");

            let letter = document.getElementById("letter");
            setTimeout(() => {
                letter.classList.add("open");

                let message = `AYUSHI," ‚ù§Ô∏è

PATA HAI, DUNIYA KITNI BHI BADAL JAAYE, MERE LIYE EK CHEEZ HAMESHA SAME RAHEGI‚ÄîTU. TERI WOH HASI JO DIN BANA DETI HAI, TERA GUSSA JO MUJHE AUR BHI SPECIAL FEEL KARWATA HAI, AUR TERA WOH BINA WAJAH OVERTHINK KARNA JO MUJHE HAMESHA TERE AUR KAREEB LE AATA HAI. üòÑ‚ù§Ô∏è

MAIN JAANTA HOON, KABHI TERE MANN MEIN AJEEB AJEEB SAWAAL AATE HAIN, KABHI MOOD SWINGS HOTI HAIN, PAR EK CHEEZ PAKKI HAI‚ÄîMAIN YAHIN HOON, HAMESHA. HAATH PAKDA HAI TOH KABHI CHHODUNGA NAHI. üíû

I WISH KI YEH GRIP DONO TARAF SE STRONG RAHE ü§û‚ú®, TERE SAATH CHALNE KA JO SUKOON HAI, WO KAHIN AUR NAHI MILEGA. TU MERE LIYE BAS EK NAAM YA EHSAAS NAHI, MERI ZINDAGI KA SABSE KHOOBSURAT HISSA HAI. üíñ

HAPPY VALENTINE‚ÄôS DAY, MERI OVERTHINKING QUEEN! üíò`;

                let j = 0;
                let speed = 50;
                let letterText = document.getElementById("letterText");

                function typeWriter() {
                    if (j < message.length) {
                        letterText.innerHTML += message.charAt(j);
                        letterText.scrollTop = letterText.scrollHeight; // **Auto-scroll feature**
                        j++;
                        setTimeout(typeWriter, speed);
                    } else {
                        setTimeout(() => {
                            letter.classList.remove("open");
                            envelope.classList.remove("open");

                            setTimeout(() => {
                                let stamp = document.querySelector(".stamp");
                                stamp.style.opacity = "1";
                                stamp.classList.remove("hidden");
                            }, 2000);
                        }, 3000);
                    }
                }

                typeWriter();
            }, 2000);
        }, 3000);
    });
</script>
